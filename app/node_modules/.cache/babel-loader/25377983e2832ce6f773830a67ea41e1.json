{"ast":null,"code":"import _toConsumableArray from\"/home/dreche/PROJECTS/ACTIVE/thimble/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/home/dreche/PROJECTS/ACTIVE/thimble/app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/home/dreche/PROJECTS/ACTIVE/thimble/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';// import { colors } from '../../../../helpers/jsColors'; //save\nimport TargetLogoHit from'../../../../assets/images/target-logo-hit.svg';import TargetLogoMiss from'../../../../assets/images/target-logo-miss.svg';import classNames from'classnames';import styles from'./style.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// this file, and especially CSS file, assume 3x3=9 miniBoxes in each wholeKey\nvar MiniBox=function MiniBox(_ref){var bullseyeCounter=_ref.bullseyeCounter,setBullseyeCounter=_ref.setBullseyeCounter,letter=_ref.letter,keyCounter=_ref.keyCounter,keyboardCounter=_ref.keyboardCounter,miniBoxId=_ref.miniBoxId,gradientRecord=_ref.gradientRecord,setGradientRecord=_ref.setGradientRecord,isEasy=_ref.isEasy;// const numMinisToShow = 3; //save\n// const [miniCounter, setMiniCounter] = useState(0); //save\nvar numTargetsToShow=2;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isClicked=_useState2[0],setIsClicked=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),keyBoardCounterSnapshot=_useState4[0],setKeyboardCounterSnapshot=_useState4[1];return/*#__PURE__*/_jsx(\"div\",{className:classNames(_defineProperty({},styles.miniBoxEasyCentral,isEasy),_defineProperty({},styles.miniBoxEasyPeripheralWidth,isEasy&&[0,3,6,2,5,8].includes(miniBoxId)),_defineProperty({},styles.miniBoxEasyPeripheralHeight,isEasy&&[0,1,2,6,7,8].includes(miniBoxId)),_defineProperty({},styles.miniBoxHardCentral,!isEasy),_defineProperty({},styles.miniBoxHardPeripheralWidth,!isEasy&&[0,3,6,2,5,8].includes(miniBoxId)),_defineProperty({},styles.miniBoxHardPeripheralHeight,!isEasy&&[0,1,2,6,7,8].includes(miniBoxId))),onClick:function onClick(){setIsClicked(true);setKeyboardCounterSnapshot(keyboardCounter);setGradientRecord(function(){gradientRecord[miniBoxId]=gradientRecord[miniBoxId]+1;return gradientRecord;});miniBoxId===4&&setBullseyeCounter(bullseyeCounter+1);// setMiniCounter(keyCounter); //save\n}// SAVE BELOW:  This sets the colors for my follow-the-leader purple:\n// style={{backgroundColor: isClicked && keyCounter === miniCounter + 1? colors.purpleFeedback : isClicked && keyCounter - (miniCounter + 1) < numMinisToShow? colors.purpleFaded:'inherit'}}\n,children:isClicked&&keyboardCounter-numTargetsToShow<=keyBoardCounterSnapshot&&/*#__PURE__*/_jsx(\"img\",{src:miniBoxId===4?TargetLogoHit:TargetLogoMiss,alt:\"target logo\",className:classNames(styles.target,_defineProperty({},styles.targetCentralWidth,isEasy&&[1,4,7].includes(miniBoxId)),_defineProperty({},styles.targetPeripheralWidth,isEasy&&[0,3,6,2,5,8].includes(miniBoxId)),_defineProperty({},styles.targetSpacebar,!isEasy&&letter===' '),_defineProperty({},styles.targetSpacebarCentralWidth,isEasy&&letter===' '&&[1,4,7].includes(miniBoxId)),_defineProperty({},styles.targetSpacebarPeripheralWidth,isEasy&&letter===' '&&[0,3,6,2,5,8].includes(miniBoxId)),_defineProperty({},styles.targetTrace,keyboardCounter-1!==keyBoardCounterSnapshot)// [brackets] are necessary because this is an object key\n)})});};export var WholeKey=function WholeKey(_ref2){var bullseyeCounter=_ref2.bullseyeCounter,setBullseyeCounter=_ref2.setBullseyeCounter,letter=_ref2.letter,keyboardCounter=_ref2.keyboardCounter,typedSentence=_ref2.typedSentence,setTypedSentence=_ref2.setTypedSentence,isEasy=_ref2.isEasy;var maxSentenceLength=100;var miniBoxIds=[0,1,2,3,4,5,6,7,8];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),keyCounter=_useState6[0],setKeyCounter=_useState6[1];var _useState7=useState([0,0,0,0,0,0,0,0,0]),_useState8=_slicedToArray(_useState7,2),gradientRecord=_useState8[0],setGradientRecord=_useState8[1];var mostPresses=Math.max.apply(Math,_toConsumableArray(gradientRecord));var mostPressedMiniBox=gradientRecord.indexOf(mostPresses);var directions=['toLeftTop','toTop','toRightTop','toLeft','noGradient','toRight','toLeftBottom','toBottom','toRightBottom'];var buildSentence=function buildSentence(){var localSentence=typedSentence;if(localSentence.length>=maxSentenceLength){localSentence=localSentence.substring(1);}return localSentence+letter;};return/*#__PURE__*/_jsxs(\"div\",{className:classNames(styles.wholeKey,_defineProperty({},styles.wholeKeySpacebar,letter===' ')),onClick:function onClick(){setKeyCounter(keyCounter+1);setTypedSentence(buildSentence());},children:[miniBoxIds.map(function(miniBoxId){return/*#__PURE__*/_jsx(MiniBox,{bullseyeCounter:bullseyeCounter,setBullseyeCounter:setBullseyeCounter,miniBoxId:miniBoxId,letter:letter,keyCounter:keyCounter,keyboardCounter:keyboardCounter,gradientRecord:gradientRecord,setGradientRecord:setGradientRecord,isEasy:isEasy},miniBoxId);}),/*#__PURE__*/_jsx(\"div\",{className:classNames(styles.shownKey,styles[directions[mostPressedMiniBox]],_defineProperty({},styles.noGradient,mostPresses===0)),children:/*#__PURE__*/_jsx(\"div\",{className:styles.letter,children:letter})})]});};","map":{"version":3,"sources":["/home/dreche/PROJECTS/ACTIVE/thimble/app/src/routes/TypingPage/components/WholeKey/index.tsx"],"names":["React","useState","TargetLogoHit","TargetLogoMiss","classNames","styles","MiniBox","bullseyeCounter","setBullseyeCounter","letter","keyCounter","keyboardCounter","miniBoxId","gradientRecord","setGradientRecord","isEasy","numTargetsToShow","isClicked","setIsClicked","keyBoardCounterSnapshot","setKeyboardCounterSnapshot","miniBoxEasyCentral","miniBoxEasyPeripheralWidth","includes","miniBoxEasyPeripheralHeight","miniBoxHardCentral","miniBoxHardPeripheralWidth","miniBoxHardPeripheralHeight","target","targetCentralWidth","targetPeripheralWidth","targetSpacebar","targetSpacebarCentralWidth","targetSpacebarPeripheralWidth","targetTrace","WholeKey","typedSentence","setTypedSentence","maxSentenceLength","miniBoxIds","setKeyCounter","mostPresses","Math","max","mostPressedMiniBox","indexOf","directions","buildSentence","localSentence","length","substring","wholeKey","wholeKeySpacebar","map","shownKey","noGradient"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n// import { colors } from '../../../../helpers/jsColors'; //save\n\nimport TargetLogoHit from '../../../../assets/images/target-logo-hit.svg';\nimport TargetLogoMiss from '../../../../assets/images/target-logo-miss.svg';\nimport classNames from 'classnames';\nimport styles from './style.module.css';\nimport { MiniBoxProps, WholeKeyProps } from '../../../../models/WholeKey';\n\n// this file, and especially CSS file, assume 3x3=9 miniBoxes in each wholeKey\n\nconst MiniBox: React.FC<MiniBoxProps> = ({\n   bullseyeCounter,\n   setBullseyeCounter,\n   letter,\n   keyCounter,\n   keyboardCounter,\n   miniBoxId,\n   gradientRecord,\n   setGradientRecord,\n   isEasy,\n}) => {\n   // const numMinisToShow = 3; //save\n   // const [miniCounter, setMiniCounter] = useState(0); //save\n\n   const numTargetsToShow = 2;\n   const [isClicked, setIsClicked] = useState(false);\n   const [keyBoardCounterSnapshot, setKeyboardCounterSnapshot] = useState(0);\n\n   return (\n      <div\n         className={classNames(\n            { [styles.miniBoxEasyCentral]: isEasy },\n            {\n               [styles.miniBoxEasyPeripheralWidth]:\n                  isEasy && [0, 3, 6, 2, 5, 8].includes(miniBoxId),\n            },\n            {\n               [styles.miniBoxEasyPeripheralHeight]:\n                  isEasy && [0, 1, 2, 6, 7, 8].includes(miniBoxId),\n            },\n\n            { [styles.miniBoxHardCentral]: !isEasy },\n            {\n               [styles.miniBoxHardPeripheralWidth]:\n                  !isEasy && [0, 3, 6, 2, 5, 8].includes(miniBoxId),\n            },\n            {\n               [styles.miniBoxHardPeripheralHeight]:\n                  !isEasy && [0, 1, 2, 6, 7, 8].includes(miniBoxId),\n            },\n         )}\n         onClick={() => {\n            setIsClicked(true);\n            setKeyboardCounterSnapshot(keyboardCounter);\n            setGradientRecord(() => {\n               gradientRecord[miniBoxId] = gradientRecord[miniBoxId] + 1;\n               return gradientRecord;\n            });\n            miniBoxId === 4 && setBullseyeCounter(bullseyeCounter + 1);\n            // setMiniCounter(keyCounter); //save\n         }}\n         // SAVE BELOW:  This sets the colors for my follow-the-leader purple:\n         // style={{backgroundColor: isClicked && keyCounter === miniCounter + 1? colors.purpleFeedback : isClicked && keyCounter - (miniCounter + 1) < numMinisToShow? colors.purpleFaded:'inherit'}}\n      >\n         {isClicked &&\n            keyboardCounter - numTargetsToShow <= keyBoardCounterSnapshot && (\n               <img\n                  src={miniBoxId === 4 ? TargetLogoHit : TargetLogoMiss}\n                  alt=\"target logo\"\n                  className={classNames(\n                     styles.target,\n\n                     {\n                        [styles.targetCentralWidth]:\n                           isEasy && [1, 4, 7].includes(miniBoxId),\n                     },\n\n                     {\n                        [styles.targetPeripheralWidth]:\n                           isEasy && [0, 3, 6, 2, 5, 8].includes(miniBoxId),\n                     },\n\n                     { [styles.targetSpacebar]: !isEasy && letter === ' ' },\n\n                     {\n                        [styles.targetSpacebarCentralWidth]:\n                           isEasy &&\n                           letter === ' ' &&\n                           [1, 4, 7].includes(miniBoxId),\n                     },\n\n                     {\n                        [styles.targetSpacebarPeripheralWidth]:\n                           isEasy &&\n                           letter === ' ' &&\n                           [0, 3, 6, 2, 5, 8].includes(miniBoxId),\n                     },\n                     {\n                        [styles.targetTrace]:\n                           keyboardCounter - 1 !== keyBoardCounterSnapshot,\n                     }, // [brackets] are necessary because this is an object key\n                  )}\n               />\n            )}\n      </div>\n   );\n};\n\nexport const WholeKey: React.FC<WholeKeyProps> = ({\n   bullseyeCounter,\n   setBullseyeCounter,\n   letter,\n   keyboardCounter,\n   typedSentence,\n   setTypedSentence,\n   isEasy,\n}) => {\n   const maxSentenceLength = 100;\n   const miniBoxIds = [0, 1, 2, 3, 4, 5, 6, 7, 8];\n   const [keyCounter, setKeyCounter] = useState(0);\n   const [gradientRecord, setGradientRecord] = useState([\n      0, 0, 0, 0, 0, 0, 0, 0, 0,\n   ]);\n\n   const mostPresses = Math.max(...gradientRecord);\n   const mostPressedMiniBox = gradientRecord.indexOf(mostPresses);\n   const directions = [\n      'toLeftTop',\n      'toTop',\n      'toRightTop',\n      'toLeft',\n      'noGradient',\n      'toRight',\n      'toLeftBottom',\n      'toBottom',\n      'toRightBottom',\n   ];\n\n   const buildSentence = () => {\n      let localSentence = typedSentence;\n      if (localSentence.length >= maxSentenceLength) {\n         localSentence = localSentence.substring(1);\n      }\n      return localSentence + letter;\n   };\n\n   return (\n      <div\n         className={classNames(styles.wholeKey, {\n            [styles.wholeKeySpacebar]: letter === ' ',\n         })}\n         onClick={() => {\n            setKeyCounter(keyCounter + 1);\n            setTypedSentence(buildSentence());\n         }}\n      >\n         {miniBoxIds.map((miniBoxId) => (\n            <MiniBox\n               key={miniBoxId}\n               bullseyeCounter={bullseyeCounter}\n               setBullseyeCounter={setBullseyeCounter}\n               miniBoxId={miniBoxId}\n               letter={letter}\n               keyCounter={keyCounter}\n               keyboardCounter={keyboardCounter}\n               gradientRecord={gradientRecord}\n               setGradientRecord={setGradientRecord}\n               isEasy={isEasy}\n            />\n         ))}\n         <div\n            className={classNames(\n               styles.shownKey,\n               styles[directions[mostPressedMiniBox]],\n               { [styles.noGradient]: mostPresses === 0 },\n            )}\n         >\n            <div className={styles.letter}>{letter}</div>\n         </div>\n      </div>\n   );\n};\n"]},"metadata":{},"sourceType":"module"}